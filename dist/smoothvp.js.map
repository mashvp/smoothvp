{"version":3,"sources":["../node_modules/tornis/dist/tornis.js","constants.js","utils.js","index.js"],"names":["Easing","EASE_OUT_SINE","EASE_OUT_CUBIC","EASE_OUT_QUINT","EASE_OUT_CIRC","EASE_OUT_QUAD","EASE_OUT_QUART","EASE_OUT_EXPO","EASE_OUT_BACK","Direction","VERTICAL","HORIZONTAL","Position","TOP","CENTER","BOTTOM","onInit","callback","document","addEventListener","later","timeout","setTimeout","next","requestAnimationFrame","isChildOf","element","targetParent","current","parentElement","verticalToHorizontal","spacer","top","size","spacerHeight","getBoundingClientRect","height","percent","y","x","horizontalToVertical","offset","position","content","target","contentLeft","left","targetLeft","targetWidth","width","targetTop","Math","floor","abs","targetCenter","window","innerWidth","targetBottom","scrollTop","pos","innerHeight","getPageOffset","scrollY","centerLeft","centerTop","bottomLeft","bottomTop","css","strings","values","getElementById","style","createElement","cssContent","map","string","i","join","setAttribute","head","appendChild","styleSheet","cssText","createTextNode","uninstall","removeChild","Smoothvp","container","stylesheet","direction","handlers","update","getTranslation","rounded","scrollToElement","options","undefined","basePosition","scrollTo","hToVOffset","handleViewportUpdate","scroll","changed","spacerSize","event","Event","transform","vToHOffset","type","forEach","handler","dispatch","handleKeyboardEvent","key","code","which","activeElement","smooth","duration","timingFunction","orientation","navigator","userAgent","indexOf","contentHeight","contentWidth","classList","add","transition","unsmooth","removeEventListener","remove","targetOrPosition","HTMLElement","Object","prototype","hasOwnProperty","call","Error","push","index","splice"],"mappings":"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","file":"smoothvp.js","sourceRoot":"../src","sourcesContent":["!function(t,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?s(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],s):(t=t||self,s(t.tornis={}))}(this,function(t){\"use strict\";function s(t,s){let i=0;return function(...e){const h=(new Date).getTime();if(!(h-i<t))return i=h,s(...e)}}function i(t){return Math.floor(t.reduce((t,s)=>t+s,0)/t.length)}const e=\"undefined\"==typeof window;class h{constructor(){e||(this.lastX=0,this.lastY=0,this.lastWidth=window.innerWidth,this.lastHeight=window.innerHeight,this.lastMouseX=0,this.lastMouseY=0,this.scrollHeight=document.body.scrollHeight,this.scrollChange=!1,this.sizeChange=!1,this.mouseChange=!1,this.currX=0,this.currY=0,this.currWidth=window.innerWidth,this.currHeight=window.innerHeight,this.currMouseX=0,this.currMouseY=0,this.mouseXVelocity=[],this.mouseYVelocity=[],this.lastMouseXVelocity=0,this.lastMouseYVelocity=0,this.updating=!1,this.callbacks=[],this.update=this.update.bind(this),this.handleResize=this.handleResize.bind(this),this.handleMouse=this.handleMouse.bind(this),this.formatData=this.formatData.bind(this),this.watch=this.watch.bind(this),this.unwatch=this.unwatch.bind(this),this.handleResize=s(110,this.handleResize),this.handleMouse=s(75,this.handleMouse),window.addEventListener(\"resize\",this.handleResize),window.addEventListener(\"mousemove\",this.handleMouse),requestAnimationFrame(this.update))}handleResize(t){this.currWidth=window.innerWidth,this.currHeight=window.innerHeight}handleMouse(t){this.currMouseX=t.clientX,this.currMouseY=t.clientY}formatData(){return{scroll:{changed:this.scrollChange,left:Math.floor(this.lastX),right:Math.floor(this.lastX+this.lastWidth),top:Math.floor(this.lastY),bottom:Math.floor(this.lastY+this.lastHeight),velocity:{x:Math.floor(this.scrollXVelocity)||0,y:Math.floor(this.scrollYVelocity)||0}},size:{changed:this.sizeChange,x:Math.floor(this.lastWidth),y:Math.floor(this.lastHeight),docY:Math.floor(this.scrollHeight)},mouse:{changed:this.mouseChange,x:Math.floor(this.lastMouseX),y:Math.floor(this.lastMouseY),velocity:{x:Math.floor(this.lastMouseXVelocity)||0,y:Math.floor(this.lastMouseYVelocity)||0}}}}update(){const{currWidth:currWidth,currHeight:currHeight,currMouseX:currMouseX,currMouseY:currMouseY}=this;if(this.updating)return!1;this.scrollChange=this.sizeChange=this.mouseChange=!1,window.pageXOffset==this.lastX&&0!=this.scrollXVelocity&&(this.scrollXVelocity=0,this.scrollChange=!0),window.pageYOffset==this.lastY&&0!=this.scrollYVelocity&&(this.scrollYVelocity=0,this.scrollChange=!0),window.pageXOffset!=this.lastX&&(this.scrollChange=!0,this.scrollXVelocity=Math.floor(window.pageXOffset-this.lastX),this.lastX=window.pageXOffset),window.pageYOffset!=this.lastY&&(this.scrollChange=!0,this.scrollYVelocity=Math.floor(window.pageYOffset-this.lastY),this.lastY=window.pageYOffset),currWidth!=this.lastWidth&&(this.lastWidth=currWidth,this.scrollHeight=document.body.scrollHeight,this.sizeChange=!0),currHeight!=this.lastHeight&&(this.lastHeight=currHeight,this.sizeChange=!0),this.mouseXVelocity.length>5&&this.mouseXVelocity.shift(),this.mouseXVelocity.push(currMouseX-this.lastMouseX),i(this.mouseXVelocity)!=this.lastMouseXVelocity&&(this.lastMouseXVelocity=i(this.mouseXVelocity),this.mouseChange=!0),currMouseX!=this.lastMouseX&&(this.lastMouseX=currMouseX,this.mouseChange=!0),this.mouseYVelocity.length>5&&this.mouseYVelocity.shift(),this.mouseYVelocity.push(currMouseY-this.lastMouseY),i(this.mouseYVelocity)!=this.lastMouseYVelocity&&(this.lastMouseYVelocity=i(this.mouseYVelocity),this.mouseChange=!0),currMouseY==this.lastMouseY&&0==i(this.mouseYVelocity)||(this.lastMouseY=currMouseY,this.mouseChange=!0),(this.scrollChange||this.sizeChange||this.mouseChange)&&this.callbacks.forEach(t=>t(this.formatData())),this.updating=!1,requestAnimationFrame(this.update)}watch(t,s=!0){if(\"function\"!=typeof t)throw new Error(\"Value passed to Watch is not a function\");if(!e){if(s){const s=this.formatData();s.scroll.changed=!0,s.mouse.changed=!0,s.size.changed=!0,t(s)}this.callbacks.push(t)}}unwatch(t){if(\"function\"!=typeof t)throw new Error(\"The value passed to unwatch is not a function\");e||(this.callbacks=this.callbacks.filter(s=>s!==t))}}const o=new h;e||(window.__TORNIS={watchViewport:o.watch,unwatchViewport:o.unwatch,getViewportState:o.formatData});const a=o.watch,l=o.unwatch,n=o.formatData;t.getViewportState=n,t.unwatchViewport=l,t.watchViewport=a,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","export const Easing = {\n  EASE_OUT_SINE: 'cubic-bezier(0.39, 0.575, 0.565, 1)',\n  EASE_OUT_CUBIC: 'cubic-bezier(0.215, 0.61, 0.355, 1)',\n  EASE_OUT_QUINT: 'cubic-bezier(0.23, 1, 0.32, 1)',\n  EASE_OUT_CIRC: 'cubic-bezier(0.075, 0.82, 0.165, 1)',\n  EASE_OUT_QUAD: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n  EASE_OUT_QUART: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n  EASE_OUT_EXPO: 'cubic-bezier(0.19, 1, 0.22, 1)',\n  EASE_OUT_BACK: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n};\n\nexport const Direction = {\n  VERTICAL: 'vertical',\n  HORIZONTAL: 'horizontal',\n};\n\nexport const Position = {\n  TOP: 'TOP',\n  CENTER: 'CENTER',\n  BOTTOM: 'BOTTOM',\n};\n","import { Position } from './constants';\n\nexport const onInit = callback => document.addEventListener('DOMContentLoaded', callback);\n\nexport const later = (callback, timeout = 10) => {\n  if (timeout === 0) {\n    callback();\n  } else {\n    setTimeout(callback, timeout);\n  }\n};\n\nexport const next = callback => requestAnimationFrame(callback);\n\nexport const isChildOf = (element, targetParent) => {\n  let current = element;\n\n  while (current) {\n    if (current === targetParent) {\n      return true;\n    }\n\n    current = current.parentElement;\n  }\n\n  return false;\n};\n\nexport const verticalToHorizontal = ({ spacer, top, size }) => {\n  const { height: spacerHeight } = spacer.getBoundingClientRect();\n\n  const percent = top / (spacerHeight - size.y);\n\n  return (spacerHeight - size.x) * percent;\n};\n\nexport const horizontalToVertical = ({\n  offset, position, spacer, content, target,\n}) => {\n  const { height: spacerHeight } = spacer.getBoundingClientRect();\n  const { left: contentLeft } = content.getBoundingClientRect();\n  const { left: targetLeft, width: targetWidth } = target.getBoundingClientRect();\n\n  const targetTop = Math.floor(targetLeft + Math.abs(contentLeft));\n  const targetCenter = targetTop - (window.innerWidth / 2 - targetWidth / 2);\n  const targetBottom = targetTop - window.innerWidth + targetWidth;\n\n  const targetOffset = ((pos) => {\n    switch (pos) {\n      case Position.TOP:\n        return targetTop;\n      case Position.CENTER:\n        return targetCenter;\n      case Position.BOTTOM:\n        return targetBottom;\n      default:\n        return targetCenter;\n    }\n  })(position);\n\n  const percent = (targetOffset + offset) / (spacerHeight - window.innerWidth);\n  const scrollTop = percent * (spacerHeight - window.innerHeight);\n\n  return scrollTop;\n};\n\nexport const getPageOffset = (element) => {\n  const {\n    left, top, width, height,\n  } = element.getBoundingClientRect();\n\n  return {\n    left: left + window.scrollY,\n    top: top + window.scrollY,\n    centerLeft: left + window.scrollY - (window.innerWidth - width) / 2,\n    centerTop: top + window.scrollY - (window.innerHeight - height) / 2,\n    bottomLeft: left + window.scrollY - window.innerWidth + width,\n    bottomTop: top + window.scrollY - window.innerHeight + height,\n    width,\n    height,\n  };\n};\n\nexport const css = (strings, ...values) => {\n  if (document.getElementById('smoothvp-styles')) return;\n\n  const style = document.createElement('style');\n  const cssContent = strings.map((string, i) => string + values[i]).join('');\n\n  style.setAttribute('type', 'text/css');\n  style.setAttribute('id', 'smoothvp-styles');\n\n  document.head.appendChild(style);\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = cssContent;\n  } else {\n    style.appendChild(document.createTextNode(cssContent));\n  }\n\n  const uninstall = () => style.parentElement.removeChild(style);\n\n  return { style, uninstall };\n};\n","import { watchViewport, unwatchViewport } from 'tornis';\n\nimport { Easing, Direction, Position } from './constants';\nimport {\n  css,\n  getPageOffset,\n  horizontalToVertical,\n  isChildOf,\n  later,\n  next,\n  verticalToHorizontal,\n} from './utils';\n\nconst Smoothvp = (container, content, { direction = Direction.VERTICAL } = {}) => {\n  const handlers = { update: [] };\n  let spacer;\n  let stylesheet;\n\n  const addEventListener = (event, handler) => {\n    if (!Object.prototype.hasOwnProperty.call(handlers, event)) {\n      throw new Error(`Event '${event}' is not supported`);\n    }\n\n    handlers[event].push(handler);\n  };\n\n  const removeEventListener = (event, handler) => {\n    if (!Object.prototype.hasOwnProperty.call(handlers, event)) {\n      throw new Error(`Event '${event}' is not supported`);\n    }\n\n    const index = handlers[event].indexOf(handler);\n    if (index !== -1) {\n      handlers[event].splice(index, 1);\n    }\n  };\n\n  const dispatch = event => handlers[event.type].forEach(handler => handler(event));\n\n  const getTranslation = (y) => {\n    const rounded = Math.floor(y);\n\n    if (direction === Direction.HORIZONTAL) {\n      return `translate3D(${-rounded}px, 100vh, 0) rotate(-90deg)`;\n    }\n\n    return `translate3D(0, ${-rounded}px, 0)`;\n  };\n\n  const createSpacer = (height) => {\n    spacer = document.createElement('div');\n\n    spacer.classList.add('smoothvp-spacer');\n    spacer.style.height = `${height}px`;\n\n    container.parentElement.appendChild(spacer);\n  };\n\n  const scrollToElement = (target, options = { offset: undefined, position: Position.CENTER }) => {\n    const { offset, position } = options;\n\n    if (isChildOf(target, content)) {\n      if (direction === Direction.VERTICAL) {\n        const { top, centerTop, bottomTop } = getPageOffset(target);\n        const basePosition = ((pos) => {\n          switch (pos) {\n            case Position.TOP:\n              return top;\n            case Position.CENTER:\n              return centerTop;\n            case Position.BOTTOM:\n              return bottomTop;\n            default:\n              return centerTop;\n          }\n        })(position);\n\n        if (typeof offset === typeof undefined) {\n          window.scrollTo(0, basePosition);\n        } else {\n          window.scrollTo(0, basePosition + offset);\n        }\n      } else {\n        const hToVOffset = horizontalToVertical({\n          ...options,\n          spacer,\n          content,\n          target,\n        });\n\n        window.scrollTo(0, hToVOffset);\n      }\n    }\n  };\n\n  const scrollToPosition = offset => window.scrollTo(0, offset);\n\n  const scrollTo = (\n    targetOrPosition,\n    options = { offset: undefined, position: Position.CENTER },\n  ) => {\n    if (targetOrPosition instanceof HTMLElement) {\n      return scrollToElement(targetOrPosition, options);\n    }\n\n    scrollToPosition(targetOrPosition);\n  };\n\n  const handleViewportUpdate = ({ scroll, size }) => {\n    if (size.changed) {\n      const { width } = spacer.getBoundingClientRect();\n      const { width: x, height: y } = content.getBoundingClientRect();\n\n      const spacerSize = direction === Direction.VERTICAL ? y : x;\n\n      spacer.style.height = `${spacerSize}px`;\n      container.style.width = `${width}px`;\n\n      if (direction === Direction.HORIZONTAL) {\n        container.style.height = `${y}px`;\n      }\n    }\n\n    if (scroll.changed) {\n      const event = new Event('update');\n      const { top } = scroll;\n\n      if (direction === Direction.VERTICAL) {\n        content.style.transform = getTranslation(top);\n        event.top = top;\n      } else {\n        const vToHOffset = verticalToHorizontal({\n          spacer,\n          top,\n          size,\n        });\n\n        content.style.transform = getTranslation(vToHOffset);\n        event.top = top;\n      }\n\n      dispatch(event);\n    }\n  };\n\n  const handleKeyboardEvent = (event) => {\n    const key = event.code || event.which;\n\n    if (key === 9 || key === 'Tab') {\n      next(() => scrollToElement(document.activeElement));\n    }\n  };\n\n  const applyKeyboardHandler = () => {\n    document.addEventListener('keydown', handleKeyboardEvent);\n  };\n\n  const removeKeyboardHandler = () => {\n    document.removeEventListener('keydown', handleKeyboardEvent);\n  };\n\n  const installStylesheet = () => {\n    stylesheet = css`\n      html,\n      body,\n      .smoothvp-container {\n        overscroll-behavior: none;\n      }\n\n      .smoothvp-container {\n        overflow: visible;\n        position: fixed;\n        top: 0;\n      }\n\n      .smoothvp-content.smoothvp-horizontal {\n        width: 100vh;\n        transform-origin: left top;\n      }\n\n      .smoothvp-content.smoothvp-horizontal .smoothvp-rotate {\n        transform-origin: center center;\n        transform: rotate(90deg);\n      }\n    `;\n  };\n\n  const uninstallStylesheet = () => {\n    stylesheet.uninstall();\n  };\n\n  const smooth = ({ duration = 500, timingFunction = Easing.EASE_OUT_QUINT }) => {\n    if (\n      typeof window.orientation !== typeof undefined\n      || navigator.userAgent.indexOf('IEMobile') !== -1\n    ) return;\n\n    installStylesheet();\n    applyKeyboardHandler();\n\n    later(() => {\n      const { height: contentHeight, width: contentWidth } = content.getBoundingClientRect();\n      const { scrollY } = window;\n\n      createSpacer(direction === Direction.VERTICAL ? contentHeight : contentWidth);\n\n      container.classList.add('smoothvp-container');\n      container.style.height = direction === Direction.VERTICAL ? '100vh' : `${contentHeight}px`;\n      container.style.width = direction === Direction.VERTICAL ? `${contentWidth}px` : '';\n\n      content.classList.add('smoothvp-content');\n      content.classList.add(`smoothvp-${direction}`);\n      content.style.transform = getTranslation(scrollY);\n\n      later(() => {\n        content.style.transition = `transform ${duration}ms ${timingFunction}`;\n      }, 10);\n\n      watchViewport(handleViewportUpdate);\n    });\n  };\n\n  const unsmooth = () => {\n    if (\n      typeof window.orientation !== typeof undefined\n      || navigator.userAgent.indexOf('IEMobile') !== -1\n    ) return;\n\n    uninstallStylesheet();\n    removeKeyboardHandler();\n\n    later(() => {\n      spacer.parentElement.removeChild(spacer);\n\n      container.classList.remove('smoothvp-container');\n      container.style.height = '';\n      container.style.width = '';\n\n      content.classList.remove('smoothvp-content', `smoothvp-${direction}`);\n      content.style.transition = '';\n      content.style.transform = '';\n\n      unwatchViewport(handleViewportUpdate);\n    });\n  };\n\n  return {\n    smooth,\n    unsmooth,\n    scrollTo,\n    addEventListener,\n    removeEventListener,\n  };\n};\n\nSmoothvp.Easing = Easing;\nSmoothvp.Direction = Direction;\nSmoothvp.Position = Position;\n\nwindow.Smoothvp = Smoothvp;\nexport default Smoothvp;\n"]}